"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2293],{2293:(T,m,s)=>{s.r(m),s.d(m,{InscripcionPageModule:()=>j});var g=s(5207),p=s(467),r=s(7343),u=s(2881),a=s(4341),o=s(1360),v=s(5367),h=s(5032),b=s(8989);let I=(()=>{var n;class t{constructor(i){this.http=i,this.API_URL="https://loldominicana.com/api/inscripcion.php"}enviarInscripcion(i){var e=this;return(0,p.A)(function*(){try{return yield(yield fetch(e.API_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json()}catch(c){return console.error("Error al enviar la inscripci\xf3n:",c),{success:!1,message:"No se pudo conectar con el servidor."}}})()}}return(n=t).\u0275fac=function(i){return new(i||n)(o.KVO(b.Qq))},n.\u0275prov=o.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),t})();function P(n,t){1&n&&(o.j41(0,"ion-note",20),o.EFF(1," El nombre es obligatorio "),o.k0s())}function F(n,t){1&n&&(o.j41(0,"ion-note",20),o.EFF(1," M\xednimo 3 caracteres "),o.k0s())}function C(n,t){if(1&n&&(o.j41(0,"ion-select-option",21),o.EFF(1),o.k0s()),2&n){const l=t.$implicit;o.Y8G("value",l.valor),o.R7$(),o.SpI(" ",l.label," ")}}function _(n,t){if(1&n&&(o.j41(0,"ion-select-option",21),o.EFF(1),o.k0s()),2&n){const l=t.$implicit;o.Y8G("value",l.valor),o.R7$(),o.SpI(" ",l.label," ")}}function E(n,t){if(1&n&&(o.j41(0,"ion-select-option",21),o.EFF(1),o.k0s()),2&n){const l=t.$implicit;o.Y8G("value",l.valor),o.R7$(),o.SpI(" ",l.valor," ")}}function M(n,t){1&n&&(o.j41(0,"ion-note",20),o.EFF(1," El correo es obligatorio "),o.k0s())}function O(n,t){1&n&&(o.j41(0,"ion-note",20),o.EFF(1," Formato de correo inv\xe1lido "),o.k0s())}function k(n,t){1&n&&(o.j41(0,"ion-item",22),o.nrm(1,"ion-icon",23),o.j41(2,"ion-label",24),o.EFF(3," Est\xe1s en modo web. Se abrir\xe1 tu cliente de correo predeterminado. "),o.k0s()())}function y(n,t){1&n&&o.nrm(0,"ion-spinner",2)}let f=(()=>{var n;class t{constructor(i,e,c,d,$,G){this.fb=i,this.router=e,this.alertController=c,this.loadingController=d,this.emailService=$,this.platform=G,this.isSubmitting=!1,this.plataformaNativa=!1,this.elos=[{valor:"Hierro",label:"Hierro"},{valor:"Bronce",label:"Bronce"},{valor:"Plata",label:"Plata"},{valor:"Oro",label:"Oro"},{valor:"Platino",label:"Platino"},{valor:"Diamante",label:"Diamante"},{valor:"Maestro",label:"Maestro"},{valor:"Gran Maestro",label:"Gran Maestro"},{valor:"Retador",label:"Retador"}],this.divisiones=[{valor:"I",label:"I"},{valor:"II",label:"II"},{valor:"III",label:"III"},{valor:"IV",label:"IV"}],this.posiciones=[{valor:"Top"},{valor:"Jungla"},{valor:"Mid"},{valor:"ADC"},{valor:"Support"}]}ngOnInit(){this.inscripcionForm=this.fb.group({invocador:["",[a.k0.required,a.k0.minLength(3),a.k0.maxLength(16)]],elo:["",a.k0.required],division:["",a.k0.required],posicion:["",a.k0.required],correo:["",[a.k0.required,a.k0.email]]}),this.plataformaNativa=this.platform.is("hybrid")}get f(){return this.inscripcionForm.controls}onSubmit(){var i=this;return(0,p.A)(function*(){if(i.inscripcionForm.invalid||i.isSubmitting)return;i.isSubmitting=!0;const e=yield i.loadingController.create({message:"Enviando inscripci\xf3n..."});yield e.present();try{const c=i.inscripcionForm.value;console.log("FORM DATA \u{1f449}",c);const d=yield i.emailService.enviarInscripcion(c);yield e.dismiss(),d.success?(yield i.mostrarAlerta("\xa1Enviado! \u{1f389}",d.message),i.inscripcionForm.reset()):yield i.mostrarAlertaError(d.message)}catch(c){yield e.dismiss(),console.error("ERROR \u{1f449}",c),yield i.mostrarAlertaError("Error de conexi\xf3n. Intenta nuevamente.")}finally{i.isSubmitting=!1}})()}mostrarAlerta(i,e){var c=this;return(0,p.A)(function*(){yield(yield c.alertController.create({header:i,message:e,buttons:["OK"]})).present()})()}mostrarAlertaError(i){var e=this;return(0,p.A)(function*(){yield(yield e.alertController.create({header:"Error",message:i,buttons:["OK"]})).present()})()}}return(n=t).\u0275fac=function(i){return new(i||n)(o.rXU(a.ok),o.rXU(v.Ix),o.rXU(r.hG),o.rXU(r.Xi),o.rXU(I),o.rXU(h.OD))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-inscripcion"]],decls:49,vars:24,consts:[[3,"translucent"],["color","primary"],["slot","start"],["defaultHref","/home","text","Volver"],[3,"fullscreen"],[1,"form-page-bg"],[1,"bg-image"],[1,"form-container"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","invocador","type","text","placeholder","Tu nombre del Invocador","maxlength","16"],["slot","error",4,"ngIf"],["formControlName","elo","interface","action-sheet","placeholder","Selecciona tu rango"],[3,"value",4,"ngFor","ngForOf"],["formControlName","division","interface","action-sheet","placeholder","Selecciona tu division"],["formControlName","posicion","interface","popover","placeholder","Selecciona rol"],["formControlName","correo","type","email","placeholder","tu@email.com"],["lines","none","class","platform-warning",4,"ngIf"],["expand","block","type","submit","size","large",1,"submit-btn",3,"disabled"],["slot","start",4,"ngIf"],["slot","error"],[3,"value"],["lines","none",1,"platform-warning"],["name","information-circle","slot","start","color","warning"],["color","medium",1,"ion-text-wrap",2,"font-size","0.9em"]],template:function(i,e){1&i&&(o.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o.nrm(3,"ion-back-button",3),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Inscripci\xf3n al Torneo"),o.k0s()()(),o.j41(6,"ion-content",4)(7,"div",5),o.nrm(8,"div",6),o.j41(9,"div",7)(10,"ion-card")(11,"ion-card-header")(12,"ion-card-title"),o.EFF(13,"Inscr\xedbete al Torneo \u2694\ufe0f"),o.k0s(),o.j41(14,"ion-card-subtitle"),o.EFF(15,"Completa tus datos de invocador"),o.k0s()(),o.j41(16,"ion-card-content")(17,"form",8),o.bIt("ngSubmit",function(){return e.onSubmit()}),o.j41(18,"ion-item")(19,"ion-label",9),o.EFF(20,"Nombre de Invocador"),o.k0s(),o.nrm(21,"ion-input",10),o.DNE(22,P,2,0,"ion-note",11)(23,F,2,0,"ion-note",11),o.k0s(),o.j41(24,"ion-item")(25,"ion-label",9),o.EFF(26,"Rango actual"),o.k0s(),o.j41(27,"ion-select",12),o.DNE(28,C,2,2,"ion-select-option",13),o.k0s()(),o.j41(29,"ion-item")(30,"ion-label",9),o.EFF(31,"Division actual"),o.k0s(),o.j41(32,"ion-select",14),o.DNE(33,_,2,2,"ion-select-option",13),o.k0s()(),o.j41(34,"ion-item")(35,"ion-label",9),o.EFF(36,"Posici\xf3n Principal"),o.k0s(),o.j41(37,"ion-select",15),o.DNE(38,E,2,2,"ion-select-option",13),o.k0s()(),o.j41(39,"ion-item")(40,"ion-label",9),o.EFF(41,"Correo Electr\xf3nico"),o.k0s(),o.nrm(42,"ion-input",16),o.DNE(43,M,2,0,"ion-note",11)(44,O,2,0,"ion-note",11),o.k0s(),o.DNE(45,k,4,0,"ion-item",17),o.j41(46,"ion-button",18),o.DNE(47,y,1,0,"ion-spinner",19),o.EFF(48),o.k0s()()()()()()()),2&i&&(o.Y8G("translucent",!0),o.R7$(6),o.Y8G("fullscreen",!0),o.R7$(11),o.Y8G("formGroup",e.inscripcionForm),o.R7$(),o.AVh("ion-invalid",e.f.invocador.invalid&&e.f.invocador.touched),o.R7$(4),o.Y8G("ngIf",(null==e.f.invocador.errors?null:e.f.invocador.errors.required)&&e.f.invocador.touched),o.R7$(),o.Y8G("ngIf",null==e.f.invocador.errors?null:e.f.invocador.errors.minlength),o.R7$(),o.AVh("ion-invalid",e.f.elo.invalid&&e.f.elo.touched),o.R7$(4),o.Y8G("ngForOf",e.elos),o.R7$(),o.AVh("ion-invalid",e.f.division.invalid&&e.f.division.touched),o.R7$(4),o.Y8G("ngForOf",e.divisiones),o.R7$(),o.AVh("ion-invalid",e.f.posicion.invalid&&e.f.posicion.touched),o.R7$(4),o.Y8G("ngForOf",e.posiciones),o.R7$(),o.AVh("ion-invalid",e.f.correo.invalid&&e.f.correo.touched),o.R7$(4),o.Y8G("ngIf",(null==e.f.correo.errors?null:e.f.correo.errors.required)&&e.f.correo.touched),o.R7$(),o.Y8G("ngIf",null==e.f.correo.errors?null:e.f.correo.errors.email),o.R7$(),o.Y8G("ngIf",!e.plataformaNativa),o.R7$(),o.Y8G("disabled",!e.inscripcionForm.valid||e.isSubmitting),o.R7$(),o.Y8G("ngIf",e.isSubmitting),o.R7$(),o.SpI(" ",e.isSubmitting?"Enviando...":"Confirmar Inscripci\xf3n"," "))},dependencies:[r.bv,r.Jm,r.QW,r.b_,r.I9,r.ME,r.HW,r.tN,r.W9,r.eU,r.iq,r.$w,r.uz,r.he,r.JI,r.Nm,r.Ip,r.w2,r.BC,r.ai,r.Je,r.Gw,r.el,u.MD,u.Sq,u.bT,a.YN,a.qT,a.BC,a.cb,a.tU,a.X1,a.j4,a.JD],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--lol-gold: #c9a227;--lol-blue: #0f2027;--lol-accent: #1e90ff}.form-page-bg[_ngcontent-%COMP%]{position:relative;min-height:100%;width:100%;background:linear-gradient(135deg,#0f2027,#203a43);overflow:hidden}.form-page-bg[_ngcontent-%COMP%]   .bg-image[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;background-image:url(/assets/img/fondo-lol.png);background-size:cover;background-position:center;background-repeat:no-repeat;opacity:.35;z-index:0}.form-page-bg[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:16px}ion-card[_ngcontent-%COMP%]{background:#0f2027f2;border:1px solid rgba(201,162,39,.3);border-radius:12px;box-shadow:0 8px 32px #0006}ion-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--lol-gold);text-transform:uppercase;letter-spacing:1px}ion-card[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:#888}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-color: rgba(201, 162, 39, .3);--highlight-color-focused: var(--lol-gold);margin-bottom:16px}ion-item.ion-invalid.ion-touched[_ngcontent-%COMP%]{--highlight-background: var(--ion-color-danger)}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fff!important;font-weight:500}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{color:#fff;--placeholder-color: #666}ion-select[_ngcontent-%COMP%]::part(icon){color:var(--lol-gold)}ion-segment[_ngcontent-%COMP%]{margin-top:8px;background:#c9a2271a;border-radius:8px;padding:4px}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--color: #888;--color-checked: #0f2027;--indicator-color: #c9a227;font-weight:700}.submit-btn[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #ffffff 0%, #ffffff 100%);--color: #0f2027;--border-radius: 8px;font-weight:700;margin-top:24px;height:50px;font-size:1.1rem;text-transform:uppercase;letter-spacing:1px;box-shadow:0 4px 15px #c9a2274d}.platform-warning[_ngcontent-%COMP%]{--background: var(--ion-color-warning-tint);--border-radius: 8px;margin:16px 0}.platform-warning[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}']}),t})();const R=[{path:"",component:f}];let S=(()=>{var n;class t{}return(n=t).\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[g.iI.forChild(R),g.iI]}),t})(),j=(()=>{var n;class t{}return(n=t).\u0275fac=function(i){return new(i||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[S,f]}),t})()}}]);